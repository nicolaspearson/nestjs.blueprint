# nestjs.blueprint

A simple [NestJS](https://github.com/nestjs/nest) starter repository built using TypeScript.

## Installation

```bash
yarn install
```

## Running the app

```bash
# watch mode
yarn start:dev

# production mode
yarn start
```

## Test

```bash
# unit tests
yarn test:unit

# integration tests
yarn test:integration
```

## Tech Stack

This repository uses:

- [`expressjs`](https://expressjs.com)
- [`nestjs`](https://nestjs.com)
- [`typescript`](https://www.typescriptlang.org)
- [`webpack`](https://webpack.js.org/)
- [`yarn2`](https://yarnpkg.com)

## Configuration Files

- `.eslintignore`: ignores the listed files and directories when running ESLint.
- `.eslintrc.js`: defines the global ESLint configuration.
- `.pnp.cjs`: automatically generated by Yarn2.
- `.prettierignore`: ignores the listed files and directories when running Prettier.
- `.prettierrc`: defines the global Prettier configuration.
- `.yarnrc.yml`: yarn2 configuration.
  - [fix dependencies with package extensions](https://yarnpkg.com/getting-started/migration#fix-dependencies-with-packageextensions)
- `jest.config.js`: defines the global Jest configuration which is inherited by each package.
- `tsconfig.json`: defines the global TypeScript configuration which is inherited by each package.

## Development Tools

- **commitlint**: Enforces the [conventional commit](https://www.conventionalcommits.org/) style.
- **eslint**: JavaScript and TypeScript linter.
- **husky**: Commit hooks that run commitlint, yarn and prettier to ensure quality before pushing.
- **prettier**: Code auto formatter.
- **yarn2**: The preferred package manager.

### Yarn2

This monorepo takes advantage of new Yarn 2 features, e.g. Plug 'n Play and zero-installs,
to prevent traditional problems caused by such setups.

Project configuration:

- Common `devDependencies` to **all** packages are defined as `dependencies`
  in the root `package.json`.
- Common scripts are defined in the root `package.json`, all packages can inherit them.
- Each package has its own specific `scripts`, `dependencies` and `devDependencies`.
- There is no `node_modules` directory, dependencies are committed to the repo via `.yarn/cache`.
  This greatly speeds up CI builds when the monorepo starts to grow.
